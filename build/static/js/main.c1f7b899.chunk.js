(this.webpackJsonpsdg2dashboard=this.webpackJsonpsdg2dashboard||[]).push([[0],{229:function(e,t,c){},277:function(e,t,c){},296:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(52),i=c.n(s),r=(c(229),c(64)),o=c(117),l=c.n(o),d=c(167),j=c(6),b=c(19),u=c(37),h=c(42),f=c(2);function p(e){var t=e.info,c=e.setTarget,a=e.target,n=Object(b.f)();return Object(f.jsxs)("div",{className:"target-card",children:[Object(f.jsx)("h1",{children:t.number}),Object(f.jsx)("p",{style:{fontSize:"20px",fontWeight:"600"},children:t.motto}),Object(f.jsx)("div",{className:"forward-link",children:Object(f.jsx)("button",{className:"info-link",onClick:function(){c(a),n.push("/infographics")},children:Object(f.jsx)(h.a,{size:"2x",icon:u.a,className:"arrow"})})},a)]})}var O=c(369),g=c(367);function x(e){var t=e.allTargets,c=e.setTarget,n=Object(b.f)(),s=["../assets/waterfall.jpg","../assets/waterfall.jpg","../assets/waterfall.jpg","../assets/waterfall.jpg","../assets/waterfall.jpg"],i=["#c8e4b4","#99ffcc","#ffcccc","#ffe4cc","#e8e4e4","#d0e4fc","#fffccc","#e8ccfc"],r=Object(a.useState)(0),o=Object(j.a)(r,2),l=o[0],d=o[1],p=Object(a.useState)(!1),x=Object(j.a)(p,2),m=x[0],v=x[1];Object(a.useEffect)((function(){var e=setInterval((function(){d((function(e){return(e+1)%t.length})),v((function(e){return!e}))}),12e3);return function(){return clearInterval(e)}}),[t.length]);var y=Object(f.jsx)("div",{style:{backgroundColor:i[Math.floor(Math.random()*i.length)]},className:"slider-text",onClick:function(){c(l),n.push("/infographics")},children:Object(f.jsxs)("div",{className:"text-container",children:[Object(f.jsx)("h1",{children:t[l].motto}),Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{style:{fontSize:"20px",fontWeight:"700"},children:t[l].number}),": "+t[l].statement]})]})}),N=Object(f.jsx)("div",{className:"slider-image",children:Object(f.jsx)("img",{src:s[Math.floor(Math.random()*s.length)],height:"500px",alt:"SDG2"})});return Object(f.jsxs)("div",{className:"image-slider",children:[Object(f.jsx)(O.a,{children:Object(f.jsx)(g.a,{timeout:200,classNames:"messageout",children:Object(f.jsxs)("div",{className:"content",children:[m?y:N,m?N:y]})},l)}),Object(f.jsx)("button",{onClick:function(){d((l-1+t.length)%t.length),v(!m)},className:"button-left",children:Object(f.jsx)(h.a,{icon:u.d})}),Object(f.jsx)("button",{onClick:function(){d((l+1)%t.length),v(!m)},className:"button-right",children:Object(f.jsx)(h.a,{icon:u.e})}),Object(f.jsx)("div",{style:{background:"none"},className:"dots",children:t.map((function(e,t){return Object(f.jsx)("div",{onClick:function(){d((function(e){return t}))},style:{backgroundColor:"".concat(l===t?"grey":"white"),width:"10px",height:"10px",margin:"1px",borderRadius:"5px"}},t)}))})]})}function m(e){var t=e.allTargets,c=e.setTarget,a=(e.demography,e.setDemography),n=Object(b.f)();return Object(f.jsxs)("div",{className:"home",children:[Object(f.jsxs)("div",{className:"navbar",children:[Object(f.jsx)("button",{children:"Home"}),Object(f.jsx)("button",{onClick:function(){a("state"),n.push("/infographics")},children:"State Indicators"}),Object(f.jsx)("button",{onClick:function(){a("district"),n.push("/infographics")},children:"District Indicators"}),Object(f.jsx)("button",{children:"Additional Analysis"})]}),Object(f.jsx)("div",{className:"image-slider-area",children:Object(f.jsx)(x,{allTargets:t,setTarget:c})}),Object(f.jsx)("div",{className:"all-targets",children:Object(f.jsx)("div",{className:"all-targets-container",children:t.map((function(e,t){return Object(f.jsx)(p,{info:e,setTarget:c,target:t},t)}))})})]})}var v=c(169),y=c.n(v);function N(e){var t=e.list,c=e.label,n=e.displayed,s=e.setDisplayed,i=Object(a.useState)(!1),r=Object(j.a)(i,2),o=r[0],l=r[1];return Object(f.jsxs)("div",{className:"dropdown",children:[Object(f.jsx)("div",{className:"dropdown-label",children:Object(f.jsxs)("span",{children:[c,":\u2003"]})}),Object(f.jsxs)("div",{className:"dropdown-clickable",children:[Object(f.jsxs)("button",{className:"dropdown-header",onClick:function(){l(!o)},children:[t[n].number,"\u2003",Object(f.jsx)(h.a,{style:{color:"#666666",position:"absolute",top:"18px",right:"12px"},className:"dropdown-icon",icon:o?u.f:u.c})]}),o&&Object(f.jsx)("div",{role:"list",className:"dd-list",children:t.map((function(e,t){return Object(f.jsxs)("button",{type:"button",className:"dd-list-item",onClick:function(){s(t)},children:[e.number," ",n===t?Object(f.jsx)(h.a,{icon:u.b}):""]},t)}))})]})]})}var D=c(170);function S(e){var t=e.activeArea,c=e.data,n=e.demography,s=[{field:"id",headerName:"ID",width:70},{field:"target",headerName:"Target",width:120},{field:"indicator",headerName:"Indicator",width:600},{field:"infocus",headerName:c[n+"_names"][t],width:150},{field:"reference",headerName:"Rajasthan",width:150}],i=Object(a.useState)([]),r=Object(j.a)(i,2),o=r[0],l=r[1];return Object(a.useEffect)((function(){var e=[],a=1;c.targets.forEach((function(s){s.indicators.forEach((function(i){i.values[n].forEach((function(n){n[1]===t&&(e.push({id:a,target:s.number,indicator:i.number,infocus:n[0],reference:c.infocus[i.number]}),a++)}))}))})),l(e)}),[t,c,n]),-1===t?Object(f.jsx)("div",{className:"table-container",children:"Select an Area"}):Object(f.jsx)("div",{className:"table-container",children:Object(f.jsx)(D.a,{rows:o,loading:0===o.length,columns:s,pageSize:20,rowHeight:30,rowsPerPageOptions:[20]})})}var w=c(48),k=c(176),C=function(e){var t=Object(a.useState)(null),c=Object(j.a)(t,2),n=c[0],s=c[1];return Object(a.useEffect)((function(){var t=e.current,c=new k.a((function(e){e.forEach((function(e){s(e.contentRect)}))}));return c.observe(t),function(){c.unobserve(t)}}),[e]),n},T=["#acacb1","#04ac54","#fcfc24","#ffc404","#fc1404","#8c0404"];var A=function(e){var t=e.target,c=e.indicator,n=e.myData,s=e.activeArea,i=e.setActiveArea,r=e.demography,o=Object(a.useRef)(),l=Object(a.useRef)(),d=C(l),j=["No Data","<20%","20-39.9%","40-59.9%","60-79.9%",">=80%"];return Object(a.useEffect)((function(){var e=Object(w.e)(o.current),a=Object(w.e)(l.current).append("div").attr("class","tooltip").attr("id","tooltip").style("opacity",0),j=Object(w.d)().domain([1,20,40,60,80,100]).range(T),b=d||l.current.getBoundingClientRect(),u=b.width,h=b.height,f=Object(w.b)().fitSize([u,h],n[r+"_map"]).precision(100),p=Object(w.c)().projection(f);function O(e){var a=n[r+"_indices"][e];return n.targets[t].indicators[c].values[r].filter((function(e){return e[1]===a}))[0][0]}e.selectAll(".country").data(n[r+"_map"].features).join("path").style("opacity",1).on("mouseover",(function(t){e.selectAll(".country").transition().duration(200).style("opacity",.5),Object(w.e)(this).transition().duration(200).style("opacity",1),a.style("opacity",.9),a.html((function(){return t.properties.DIST_NAME+", "+O(t.properties.DIST_NAME)})).style("left","".concat(w.a.pageX,"px")).style("top","".concat(w.a.pageY-150,"px"))})).on("mouseleave",(function(){e.selectAll(".country").transition().duration(200).style("opacity",1),a.style("opacity",0)})).on("click",(function(e){a.style("opacity",0),s===n[r+"_indices"][e.properties.DIST_NAME]?i(-1):i(n[r+"_indices"][e.properties.DIST_NAME])})).transition().attr("class","country").attr("fill",(function(e){return j(O(e.properties.DIST_NAME))})).attr("d",(function(e){return p(e)}))}),[d,t,c,s,n,r,i]),Object(f.jsxs)("div",{ref:l,style:{position:"relative",width:"50%"},children:[Object(f.jsx)("svg",{className:"map-points",ref:o}),Object(f.jsx)("div",{className:"axis",children:T.map((function(e,t){return Object(f.jsxs)("div",{className:"legend-item",children:[Object(f.jsx)("button",{style:{background:e}}),Object(f.jsxs)("span",{children:["\u2003",j[t]]})]},t)}))})]})};function I(e){var t=e.demography,c=e.setDemography,n=e.target,s=e.setTarget,i=e.indicator,r=e.setIndicator,o=e.data,l=(e.setData,e.fetchData),d=Object(b.f)(),p=Object(a.useState)(-1),O=Object(j.a)(p,2),g=O[0],x=O[1],m=Object(a.useState)({annotations:{points:[{x:"Rajasthan",label:{borderColor:"#775DD0",offsetY:0,style:{color:"#fff",background:"#775DD0"},text:"Average State Value"}}]},chart:{events:{dataPointSelection:function(e,c,a){if(a.selectedDataPoints[0].length){var n=c.data.twoDSeriesX[a.selectedDataPoints[0][0]];x(o[t+"_indices"][n])}else x(-1)}}},plotOptions:{bar:{borderRadius:10,columnWidth:"100%"}},stroke:{width:2},grid:{row:{colors:["#fff","#f2f2f2"]}},xaxis:{labels:{rotate:-45}},yaxis:{title:{text:"Score"}},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:.85,opacityTo:.85,stops:[50,0,100]}}}),v=Object(j.a)(m,1)[0];return Object(a.useEffect)((function(){null===o&&l()}),[o,l]),null===o?Object(f.jsx)("div",{children:"Fetching..."}):Object(f.jsxs)("div",{className:"infographics",children:[Object(f.jsxs)("div",{className:"options-area",children:[Object(f.jsx)("div",{className:"home-button",children:Object(f.jsx)("button",{onClick:function(){d.push("/")},children:Object(f.jsx)(h.a,{icon:u.g,size:"2x"})})}),Object(f.jsx)("div",{className:"left",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("button",{className:"dem-button ".concat("state"===t?"button-active":""),style:{borderRadius:"10px 0 0 10px"},onClick:function(){c("state")},children:"State"}),Object(f.jsx)("button",{className:"dem-button ".concat("district"===t?"button-active":""),style:{borderRadius:"0 10px 10px 0"},onClick:function(){c("district")},children:"District"})]})}),Object(f.jsx)("div",{className:"middle",children:Object(f.jsx)(N,{list:o.targets,label:"Select Target",displayed:n,setDisplayed:s})}),Object(f.jsx)("div",{className:"right",children:Object(f.jsx)(N,{list:o.targets[n].indicators,label:"Select Indicator",displayed:i,setDisplayed:r})})]}),Object(f.jsxs)("div",{className:"map-area",children:[Object(f.jsx)(A,{indicator:i,target:n,myData:o,activeArea:g,setActiveArea:x,demography:t}),-1!==g&&Object(f.jsx)(S,{activeArea:g,data:o,demography:t})]}),Object(f.jsx)("div",{className:"all-districts-chart",children:Object(f.jsx)(y.a,{type:"bar",height:"400px",options:v,series:function(e){var c=e.map((function(e){return{x:o[t+"_names"][e[1]],y:e[0]}}));return c.push({x:"Rajasthan",y:o.infocus[o.targets[n].indicators[i].number]}),[{name:"Score",data:c=c.sort((function(e,t){return e.y<t.y?1:e.y>t.y?-1:0}))}]}(o.targets[n].indicators[i].values[t])})})]})}var E=c(177),P=c.n(E),_=(c(277),c(180)),R=c.n(_);function M(){var e=Object(a.useState)("state"),t=Object(j.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(0),i=Object(j.a)(s,2),r=i[0],o=i[1],u=Object(a.useState)(0),h=Object(j.a)(u,2),p=h[0],O=h[1],g=Object(a.useState)(null),x=Object(j.a)(g,2),v=x[0],y=x[1],N=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("https://sdg2dashboard.herokuapp.com/readData");case 3:t=e.sent,y((function(e){return t.data})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){null===v&&N()}),[v]),null===v?Object(f.jsx)(P.a,{loading:!0,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Fetching... (PS: Switch to laptop, in case you are using a mobile)"}):Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("div",{className:"header",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("img",{src:"/assets/dpdeslogo.png",alt:"DPDES Logo"}),Object(f.jsx)("img",{src:"/assets/sdg2logo.png",alt:"SDG2 Logo"})]})}),Object(f.jsx)("div",{className:"body",children:Object(f.jsxs)(b.c,{children:[Object(f.jsx)(b.a,{exact:!0,path:"/",render:function(e){return Object(f.jsx)(m,{allTargets:v.targets,setTarget:O,demography:c,setDemography:n})}}),Object(f.jsx)(b.a,{path:"/infographics",render:function(e){return Object(f.jsx)(I,{demography:c,setDemography:n,target:p,setTarget:O,indicator:r,setIndicator:o,data:v,setData:y,fetchData:N})}})]})}),Object(f.jsx)("div",{className:"footer",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Quick Links"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Niti Aayog"}),Object(f.jsx)("li",{children:"MoSPI, GoI"}),Object(f.jsx)("li",{children:"Department of Planning, GoR"})]})]}),Object(f.jsx)("div",{style:{textAlign:"center"},children:Object(f.jsx)("img",{src:"assets/wfplogo.png",alt:"WFP Logo"})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Developed in collaboration with:"}),Object(f.jsxs)("p",{children:["Public systems Lab, Indian Institute of Technology, Delhi ",Object(f.jsx)("br",{}),"Contact: 011-26596317"]})]})]})})]})}var F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,372)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(r.a,{children:Object(f.jsx)(M,{})})}),document.getElementById("root")),F()}},[[296,1,2]]]);
//# sourceMappingURL=main.c1f7b899.chunk.js.map